import numpy as np

# 给定的数据
data = [
    [14.45, 14.48, 14.45, 14.29, 14.3, 14.28, 14.28, 14.27, 14.24, 14.26, 14.25, 14.25, 14.28, 14.25, 14.22, 14.25, 14.22, 14.21, 14.21, 14.45],
    [19.73, 19.65, 19.55, 19.44, 19.42, 19.63, 19.65, 19.69, 19.69, 19.53, 19.66, 19.58, 19.59, 19.61, 19.49, 19.49, 19.18, 19.06, 19.03, 19.75],
    [37.5, 37.54, 37.68, 37.47, 37.73, 37.7, 38.11, 37.6, 37.42, 37.47, 37.72, 37.96, 38.28, 38.08, 37.59, 37.12, 37.11, 37.0, 37.05, 37.49],
    [17.53, 17.69, 17.65, 17.59, 17.62, 17.84, 17.62, 17.58, 17.52, 17.52, 17.48, 17.49, 17.46, 17.53, 17.59, 17.5, 17.54, 17.31, 17.39, 17.53],
    [54.68, 55.94, 56.06, 55.99, 55.28, 56.05, 57.63, 57.05, 56.83, 55.54, 55.3, 54.8, 55.28, 54.91, 53.1, 52.85, 53.4, 53.32, 53.73, 54.29]
]

# 计算周期 N 和系数 K
N = 20
K = 1.45

# 存储每个子列表的下布林线
lower_bollinger_lines = []

# 遍历每个子列表
for sub_list in data:
    # 计算移动平均线
    mb = np.mean(sub_list)
    # 计算标准差
    sigma = np.std(sub_list)
    # 计算下布林线
    dn = mb - K * sigma
    lower_bollinger_lines.append(dn)

# 输出结果
for i, dn in enumerate(lower_bollinger_lines):
    print(f"第 {i + 1} 个子列表的下布林线为: {dn:.4f}")